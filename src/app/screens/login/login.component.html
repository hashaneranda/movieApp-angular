<div class="header_wrapper mt-5 d-flex flex-row justify-content-between">
  <h1>{{ "login.title" | translate }}</h1>
</div>

<form
  [formGroup]="loginForm"
  (ngSubmit)="onSubmit()"
  class="mt-5 d-flex flex-column align-items-center justify-content-center gap-3"
>
  <mat-form-field
    class="w-50"
    appearance="fill"
    *ngFor="let config of formConfig"
  >
    <mat-label>{{ config.label }}</mat-label>
    <input
      [type]="config.type"
      matInput
      [formControlName]="config.name"
      [errorStateMatcher]="matcher"
    />
    <mat-error
      *ngIf="f?.[config.name]?.hasError(config.name) && !f?.[config.name]?.hasError('required')"
    >
      Please enter a valid {{ config.label }}
    </mat-error>
    <mat-error *ngIf="f?.[config.name]?.hasError('required')">
      {{ config.label }} is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <button mat-raised-button color="primary" [disabled]="loading" class="mt-3">
    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
    {{ "login.title" | translate }}
  </button>
  <div *ngIf="error" class="alert alert-danger mt-3 mb-0">
    {{ error }}
  </div>

  <div class="alert alert-info mt-5 w-50 justify-self-center">
    <strong>Normal User</strong> - U: user P: user<br />
    <strong>Administrator</strong> - U: admin P: admin
  </div>
</form>
